<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Market Store DZ | Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</title>
    <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
<script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
<script>
  window.OneSignalDeferred = window.OneSignalDeferred || [];
  OneSignalDeferred.push(async function(OneSignal) {
    await OneSignal.init({
      appId: "d1660843-a5a7-46ed-b5be-2545786b88cd",
    });
    
    // Ø±Ø¨Ø· Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø¨Ø§Ù„Ø¬Ù‡Ø§Ø² ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
    const user = JSON.parse(localStorage.getItem('marketUser'));
    if (user && user.phone) {
        await OneSignal.login(user.phone);
    }
  });
</script>

    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        .categories-bar {
    display: flex;
    overflow-x: auto;
    padding: 15px;
    gap: 20px;
    background: #1e293b;
}

.cat-item {
    text-align: center;
    min-width: 60px;
}

.cat-icon {
    width: 50px;
    height: 50px;
    background: #0f172a;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    border: 1px solid var(--primary);
    margin-bottom: 5px;
}

.quick-services {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    padding: 15px;
}

.service-card {
    background: #1e293b;
    padding: 20px;
    border-radius: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 4px solid var(--primary);
}
     .categories-bar {
    display: flex;
    overflow-x: auto;
    padding: 15px 10px;
    gap: 15px;
    background: #1e293b; /* ØªØ£ÙƒØ¯ Ø£Ù†Ù‡ Ù†ÙØ³ Ù„ÙˆÙ† Ø®Ù„ÙÙŠØ© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª */
    scrollbar-width: none;
    justify-content: space-around; /* Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø¨Ø´ÙƒÙ„ Ù…ØªØ³Ø§ÙˆÙ */
     }
    
        :root {
    --primary: #0088cc;
    --secondary: #f4f4f4;
    --success: #28a745;
    --dark: #333;
    --card-bg: #ffffff;
}

        body { font-family: 'Cairo', sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 0; min-height: 100vh; }
        
        .page { display: none; padding: 20px; text-align: center; min-height: 100vh; box-sizing: border-box; }
        .active { display: flex !important; flex-direction: column; align-items: center; justify-content: center; }
        #shopPage.active { display: block !important; }

        .auth-box { background: var(--card); padding: 30px; border-radius: 20px; width: 100%; max-width: 350px; border: 1px solid var(--primary); box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        input, textarea, select { width: 100%; padding: 12px; margin: 10px 0; border-radius: 10px; border: 1px solid #334155; background: #0b0e14; color: white; box-sizing: border-box; font-family: 'Cairo'; }
        
        header { background: var(--card); display: flex; justify-content: space-between; align-items: center; padding: 15px 25px; border-bottom: 2px solid var(--primary); position: sticky; top: 0; z-index: 10; }
        
        .container { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; max-width: 1200px; margin: 30px auto; padding: 0 15px; }
.card {
    background: var(--card-bg);
    border: 1px solid rgba(255, 255, 255, 0.05);
    border-radius: 20px;
    padding: 20px;
    transition: 0.3s ease;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.5);
}

.card:hover {
    transform: translateY(-8px);
    border-color: var(--primary);
    box-shadow: 0 0 20px rgba(34, 197, 94, 0.2);
}

        .price-tag { color: var(--success); font-size: 1.4rem; font-weight: bold; display: block; margin: 10px 0; }
        .btn {
    background: linear-gradient(135deg, var(--primary), #16a34a);
    color: white;
    border-radius: 12px;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    border: none;
    padding: 12px;
    cursor: pointer;
    width: 100%;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2);
}

        .btn:active { transform: scale(0.98); }

        #orderModal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.95); z-index:1000; overflow-y: auto; }
        .modal-content { background: var(--card); width: 90%; max-width: 450px; margin: 40px auto; padding: 30px; border-radius: 25px; text-align: right; border: 1px solid var(--primary); }
        .hint { font-size: 0.8rem; color: #94a3b8; margin-top: -5px; margin-bottom: 10px; display: block; }
    </style>
</head>
<body>
    
    <div id="authPage" class="page">
        <div class="auth-box">
            <h1 style="color: var(--primary); margin-bottom: 10px;">Market Store DZ</h1>
            <p style="margin-bottom: 20px; color: #94a3b8;">Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…ØªØ¬Ø± Ø´Ø¹ÙŠØ¨ Ø§Ù„Ø±Ù‚Ù…ÙŠ</p>
            <input type="text" id="regName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
            <input type="tel" id="regPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
            <button class="btn" onclick="saveUser()">Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù…ØªØ¬Ø±</button>
        </div>
    </div>

    <div id="shopPage" class="page">
        <header>
            <span id="userDisp" style="color:var(--primary); font-weight: bold;"></span>
            <button onclick="logout()" style="background:none; border:none; color:#ef4444; cursor:pointer; font-weight: bold;">Ø®Ø±ÙˆØ¬</button>
        </header>

        <div class="container">
            <div class="card">
                <h3 style="color: var(--primary);">Gemini AI Plus âœ¨</h3>
                <p>Ø§Ø´ØªØ±Ø§Ùƒ Ø´Ù‡Ø± ÙƒØ§Ù…Ù„ - Ø­Ø³Ø§Ø¨ Ø®Ø§Øµ Ø¨Ø¨ÙŠØ§Ù†Ø§ØªÙƒ</p>
                <span class="price-tag">800 Ø¯Ø¬</span>
                <button class="btn" onclick="openModal('Gemini AI Plus', '800 Ø¯Ø¬')">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</button>
            </div>

            <div class="card">
                <h3 style="color: var(--primary);">eFootball 2026 Coins âš½</h3>
                <label>Ø§Ø®ØªØ± Ø§Ù„ÙƒÙ…ÙŠØ©:</label>
                <select id="efSelect">
                    <option value="1040 Coins - 1500 Ø¯Ø¬">1040 Coins - 1500 Ø¯Ø¬</option>
                    <option value="2130 Coins - 3000 Ø¯Ø¬">2130 Coins - 3000 Ø¯Ø¬</option>
                    <option value="3250 Coins - 4400 Ø¯Ø¬">3250 Coins - 4400 Ø¯Ø¬</option>
                    <option value="5700 Coins - 7500 Ø¯Ø¬">5700 Coins - 7500 Ø¯Ø¬</option>
                </select>
                <button class="btn" onclick="selectAndOpen('efSelect', 'eFootball')">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</button>
            </div>

            <div class="card">
                <h3 style="color: var(--primary);">Free Fire Diamonds ğŸ’</h3>
                <label>Ø§Ø®ØªØ± Ø§Ù„Ø¹Ø±Ø¶:</label>
                <select id="ffSelect">
                    <option value="100 Diamonds - 300 Ø¯Ø¬">100 Diamonds - 300 Ø¯Ø¬</option>
                    <option value="530 Diamonds - 1450 Ø¯Ø¬">530 Diamonds - 1450 Ø¯Ø¬</option>
                    <option value="1080 Diamonds - 2800 Ø¯Ø¬">1080 Diamonds - 2800 Ø¯Ø¬</option>
                    <option value="Ø§Ù„Ø¹Ø¶ÙˆÙŠØ© Ø§Ù„Ø´Ù‡Ø±ÙŠØ© - 2850 Ø¯Ø¬">Ø§Ù„Ø¹Ø¶ÙˆÙŠØ© Ø§Ù„Ø´Ù‡Ø±ÙŠØ© - 2850 Ø¯Ø¬</option>
                </select>
                <button class="btn" onclick="selectAndOpen('ffSelect', 'Free Fire')">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</button>
            </div>

            <div class="card">
                <h3 style="color: var(--primary);">Netflix Premium ğŸ¬</h3>
                <p>Ø­Ø³Ø§Ø¨ Ø´Ø§Ø´Ø© ÙˆØ§Ø­Ø¯Ø© - Ø´Ù‡Ø± ÙƒØ§Ù…Ù„</p>
                <span class="price-tag">1300 Ø¯Ø¬</span>
                <button class="btn" onclick="openModal('Netflix Premium', '650 Ø¯Ø¬')">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</button>
            </div>
        </div>
    </div>

            <div id="orderModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:1000; overflow-y: auto;">
        <div class="modal-content" style="background: #1a222d; width: 90%; max-width: 450px; margin: 40px auto; padding: 25px; border-radius: 20px; border: 1px solid var(--primary); text-align: right;">
            <h3 id="mTitle" style="color:var(--primary); margin-top: 0;">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</h3>
            <p id="mPrice" style="color: #4ade80; font-weight: bold;"></p>
            
            <div style="background: #2d343f; padding: 12px; border-radius: 10px; margin-bottom: 15px; border: 1px dashed var(--primary); text-align: center;">
                <p style="margin: 0; font-size: 0.85em; color: #ccc;">Ø£Ø±Ø³Ù„ Ø§Ù„Ù…Ø¨Ù„Øº Ø¥Ù„Ù‰ Ø­Ø³Ø§Ø¨ Ø¨Ø±ÙŠØ¯ÙŠ Ù…ÙˆØ¨:</p>
                <p style="margin: 5px 0; font-weight: bold; font-size: 1.1em; color: #fff; letter-spacing: 1px;">0079999900XXXXXXXXXX</p>
                <p style="margin: 0; font-size: 0.75em; color: #fbbf24;">(ÙŠØ¬Ø¨ Ø±ÙØ¹ ØµÙˆØ±Ø© Ø§Ù„ÙˆØµÙ„ Ø¨Ø§Ù„Ø£Ø³ÙÙ„ Ù„ØªØ£ÙƒÙŠØ¯ Ø·Ù„Ø¨Ùƒ)</p>
            </div>

            <label style="display: block; margin-bottom: 5px;">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:</label>
            <textarea id="accInfo" rows="4" style="width:100%; background:#0b1016; color:white; border:1px solid #334155; border-radius:10px; padding:10px;" placeholder="Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨: Ø£Ø¯Ø®Ù„ Ø§Ù„Ù€ ID.. Ù„Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª: Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¬ÙŠÙ…ÙŠÙ„ ÙˆØ§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯"></textarea>

            <div style="margin-top: 15px;">
                <label style="display: block; margin-bottom: 5px;">Ø§Ø±ÙØ¹ ØµÙˆØ±Ø© ÙˆØµÙ„ Ø§Ù„Ø¯ÙØ¹ (Ø¨Ø±ÙŠØ¯ÙŠ Ù…ÙˆØ¨/CCP):</label>
                <input type="file" id="receiptImg" accept="image/*" style="width:100%; color:white;">
            </div>

            <button class="btn" id="sendBtn" onclick="sendToTelegram()" style="margin-top: 20px; background:var(--primary); color:white; border:none; padding:12px; width:100%; border-radius:10px; cursor:pointer; font-weight:bold;">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ âœ…</button>
            <button onclick="document.getElementById('orderModal').style.display='none'" style="background:transparent; color:gray; border:none; width:100%; margin-top:10px; cursor:pointer;">Ø¥Ù„ØºØ§Ø¡</button>
        </div>
    </div>
     <div style="text-align: center; padding: 20px;">
    <button onclick="openAdmin()" style="background: transparent; border: none; color: #334155; cursor: pointer;">âš™ï¸ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</button>
</div>

<div id="adminModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.95); z-index:2000; overflow-y:auto; color:white; padding:20px;">
    <h2>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… MarketDZ ğŸ› ï¸</h2>
    <hr>
    <h3>Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</h3>
    <input type="text" id="pName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ (Ù…Ø«Ù„Ø§Ù‹: Free Fire)">
    <input type="text" id="pPrice" placeholder="Ø§Ù„Ø³Ø¹Ø± (Ù…Ø«Ù„Ø§Ù‹: 500 Ø¯Ø¬)">
    <input type="text" id="pImg" placeholder="Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬">
    <button class="btn" onclick="addNewProduct()">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù…ØªØ¬Ø± âœ…</button>
    <br>
    <button onclick="document.getElementById('adminModal').style.display='none'" style="color:red; background:none; border:none; margin-top:20px;">Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù„ÙˆØ­Ø©</button>
</div>
    
    <script>
        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¨ÙˆØª ÙˆØ§Ù„Ù€ ID Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ (Ù…Ø±Ø¨ÙˆØ·Ø© ÙˆØ¬Ø§Ù‡Ø²Ø©)
        const BOT_TOKEN = '8522676441:AAGvGQztAI9h7my-EBUACjoVtS7nE52xujE';
        const CHAT_ID = '8082796633';

        let currentProduct = "", currentPrice = "";

        window.onload = () => {
            const user = localStorage.getItem('marketUser');
            if (user) {
                showShop(JSON.parse(user).name);
            } else {
                document.getElementById('authPage').classList.add('active');
            }
        };

        function saveUser() {
            const name = document.getElementById('regName').value;
            const phone = document.getElementById('regPhone').value;
            if (!name || !phone) return alert("ÙŠØ±Ø¬Ù‰ Ø¥ÙƒÙ…Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„!");
            localStorage.setItem('marketUser', JSON.stringify({ name, phone }));
            showShop(name);
            // Ø£Ø¶Ù Ù‡Ø°Ø§ Ø§Ù„Ø³Ø·Ø± Ø¯Ø§Ø®Ù„ Ø¯Ø§Ù„Ø© saveUser Ø¨Ø¹Ø¯ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ localStorage
OneSignal.push(function() {
    OneSignal.setExternalUserId(phone);
});
            
        }

        function showShop(name) {
            document.getElementById('authPage').classList.remove('active');
            document.getElementById('shopPage').classList.add('active');
            document.getElementById('userDisp').innerText = "Ù…Ø±Ø­Ø¨Ø§Ù‹: " + name;
        }

        function logout() {
            localStorage.removeItem('marketUser');
            location.reload();
        }

        function selectAndOpen(selectId, category) {
            const val = document.getElementById(selectId).value;
            openModal(category + " (" + val + ")", "");
        }

        function openModal(prod, price) {
    document.getElementById('mTitle').innerText = prod;
    document.getElementById('mPrice').innerText = price;
    document.getElementById('orderModal').style.display = 'block';
}

        async function sendToTelegram() {
            const user = JSON.parse(localStorage.getItem('marketUser'));
            const info = document.getElementById('accInfo').value;
            const file = document.getElementById('receiptImg').files[0];

            if (!info || !file) return alert("ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ ÙˆØ±ÙØ¹ ØµÙˆØ±Ø© Ø§Ù„ÙˆØµÙ„!");

            const btn = document.getElementById('sendBtn');
            btn.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...";
            btn.disabled = true;

            const message = `ğŸš€ *Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ ÙˆØµÙ„Ùƒ!* \n\nğŸ‘¤ *Ø§Ù„Ø²Ø¨ÙˆÙ†:* ${user.name} \nğŸ“ *Ø§Ù„Ù‡Ø§ØªÙ:* ${user.phone} \n\nğŸ›’ *Ø§Ù„Ù…Ù†ØªØ¬:* \n${currentProduct} \n\nğŸ”‘ *Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:* \n\`${info}\``;

            const fd = new FormData();
            fd.append('chat_id', CHAT_ID);
            fd.append('caption', message);
            fd.append('photo', file);
            fd.append('parse_mode', 'Markdown');

            try {
                const res = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
                    method: 'POST',
                    body: fd
                });

                if (res.ok) {
                    alert("âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­! Ø³ÙŠØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ø§Ù„Ø¨Ø§Ø¦Ø¹ Ù‚Ø±ÙŠØ¨Ø§Ù‹.");
                    document.getElementById('orderModal').style.display = 'none';
                    document.getElementById('accInfo').value = "";
                    document.getElementById('receiptImg').value = "";
                } else {
                    alert("âŒ ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ØŒ ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨ÙˆØª Ø£ÙˆÙ„Ø§Ù‹.");
                }
            } catch (e) {
                alert("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª.");
            } finally {
                btn.innerText = "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ù„Ù„Ø¨Ø§Ø¦Ø¹ âœ…";
                btn.disabled = false;
            }
        }
        function openAdmin() {
    const pass = prompt("Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„:");
    if (pass === "1234") { // ÙŠÙ…ÙƒÙ†Ùƒ ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù‡Ù†Ø§
        document.getElementById('adminModal').style.display = 'block';
    } else {
        alert("Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù„Ø§ ØªÙ…Ù„Ùƒ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„ÙˆØµÙˆÙ„!");
    }
}

function addNewProduct() {
    const name = document.getElementById('pName').value;
    const price = document.getElementById('pPrice').value;
    const img = document.getElementById('pImg').value;

    if(name && price) {
        const container = document.querySelector('.container');
        const newCard = `
            <div class="card">
                <img src="${img || 'https://via.placeholder.com/150'}" alt="${name}">
                <h3>${name}</h3>
                <p class="price-tag">${price}</p>
                <button class="btn" onclick="openModal('${name}', '${price}')">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</button>
            </div>
        `;
        container.innerHTML += newCard;
        alert("ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­!");
        document.getElementById('adminModal').style.display = 'none';
    }
}
        
    </script>
</body>
</html>
